<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>

  <body>
    请你设计一个带光标的文本编辑器，它可以实现以下功能：
    添加：在光标所在处添加文本。
    删除：在光标所在处删除文本（模拟键盘的删除键）。
    移动：将光标往左或者往右移动。
    当删除文本时，只有光标左边的字符会被删除。光标会留在文本内，也就是说任意时候
    0 <= cursor.position <= currentText.length 都成立。 请你实现 TextEditor 类：
    TextEditor() 用空文本初始化对象。 void addText(string text) 将 text
    添加到光标所在位置。添加完后光标在 text 的右边。 int deleteText(int k)
    删除光标左边 k 个字符。返回实际删除的字符数目。 string cursorLeft(int k)
    将光标向左移动 k 次。返回移动后光标左边 min(10, len) 个字符，其中 len
    是光标左边的字符数目。 string cursorRight(int k) 将光标向右移动 k
    次。返回移动后光标左边 min(10, len) 个字符，其中 len 是光标左边的字符数目。
  </body>
  <script>
    var TextEditor = function () {
      this.text = "";
      this.cursor = 0;
    };

    TextEditor.prototype.addText = function (text) {
      this.text =
        this.text.slice(0, this.cursor) + text + this.text.slice(this.cursor);
      this.cursor += text.length;
    };

    /**
     * @param {number} k
     * @return {number}
     */
    TextEditor.prototype.deleteText = function (k) {
      k = Math.min(k, this.cursor);
      this.text =
        this.text.slice(0, this.cursor - k) + this.text.slice(this.cursor);
      this.cursor -= k;
      return k;
    };

    /**
     * @param {number} k
     * @return {string}
     */
    TextEditor.prototype.cursorLeft = function (k) {
      if (this.cursor - k < 0) {
        this.cursor = 0;
      } else {
        this.cursor -= k;
      }
      let len = Math.min(10, this.cursor);
      return this.text.slice(this.cursor - len, this.cursor);
    };

    /**
     * @param {number} k
     * @return {string}
     */
    TextEditor.prototype.cursorRight = function (k) {
      if (this.cursor + k > this.text.length) {
        this.cursor = this.text.length;
      } else {
        this.cursor += k;
      }
      let len = Math.min(10, this.cursor);
      return this.text.slice(this.cursor - len, this.cursor);
    };
  </script>
</html>
